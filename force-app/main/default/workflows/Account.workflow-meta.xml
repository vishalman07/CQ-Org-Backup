<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>AdminDupeCheck</fullName>
        <description>Account merge double check</description>
        <protected>false</protected>
        <recipients>
            <recipient>ameyrick@campquality.org.au</recipient>
            <type>user</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Internal_CQ_Communications/Admin_Check</template>
    </alerts>
    <fieldUpdates>
        <fullName>Account_Cancer_Journey_Bereaved</fullName>
        <field>Bereaved__c</field>
        <formula>Today()</formula>
        <name>Account.Cancer_Journey.Bereaved</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Account_Cancer_Journey_Deceased</fullName>
        <field>Deceased__c</field>
        <formula>Today()</formula>
        <name>Account.Cancer_Journey.Deceased</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Account_Cancer_Journey_Off_Treatment</fullName>
        <field>Off_Treatment__c</field>
        <formula>Today()</formula>
        <name>Account.Cancer_Journey.Off_Treatment</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Account_Cancer_Journey_On_Treatment</fullName>
        <field>On_Treatment__c</field>
        <formula>Today()</formula>
        <name>Account.Cancer_Journey.On_Treatment</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Account_Cancer_Journey_Palliative</fullName>
        <field>Pallative__c</field>
        <formula>Today()</formula>
        <name>Account.Cancer_Journey.Palliative</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Account_Cancer_Journey_Relapsed</fullName>
        <field>Relapsed_Date__c</field>
        <formula>today()</formula>
        <name>Account.Cancer_Journey.Relapsed</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Set_Journey_Bereaved</fullName>
        <field>Cancer_Journey__c</field>
        <literalValue>Bereaved</literalValue>
        <name>Set Journey = Bereaved</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>UPD_ACC_Image_Opt_In_Participant_Sharing</fullName>
        <description>Update Account field Image Opt In Participant Sharing</description>
        <field>media_opt_in_share_participants__c</field>
        <literalValue>1</literalValue>
        <name>UPD ACC Image Opt In Participant Sharing</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>UPD_ACC_Image_Opt_In_Permission_All</fullName>
        <description>Update Account field Image Opt In Permission All</description>
        <field>Media_Permission_All_2019__c</field>
        <literalValue>0</literalValue>
        <name>UPD ACC Image Opt In Permission All</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>UPD_ACC_Image_Opt_In_Permission_All_TRUE</fullName>
        <description>Update Account field Image Opt In Permission All to True</description>
        <field>Media_Permission_All_2019__c</field>
        <literalValue>1</literalValue>
        <name>UPD ACC Image Opt In Permission All TRUE</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>UPD_ACC_Image_Opt_In_Permission_Corporat</fullName>
        <description>Update Account field Image Opt In Permission Corporate</description>
        <field>Media_permission_corporate_2019__c</field>
        <literalValue>1</literalValue>
        <name>UPD ACC Image Opt In Permission Corporat</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>UPD_ACC_Image_Opt_In_Permission_Public</fullName>
        <description>Update Account field Image Opt In Permission Public</description>
        <field>Media_permission_Public_2019__c</field>
        <literalValue>1</literalValue>
        <name>UPD ACC Image Opt In Permission Public</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Mobile_Number</fullName>
        <field>Primary_Contact_Mobile__c</field>
        <formula>npe01__One2OneContact__r.MobilePhone</formula>
        <name>Update Mobile Number</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Primary_Mobile_onto_Account</fullName>
        <field>Primary_Contact_Mobile__c</field>
        <formula>npe01__One2OneContact__r.MobilePhone</formula>
        <name>Update Primary Mobile onto Account</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>Account check all Image Permissions</fullName>
        <actions>
            <name>UPD_ACC_Image_Opt_In_Permission_All_TRUE</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Account.media_opt_in_share_participants__c</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Media_permission_Public_2019__c</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Media_permission_corporate_2019__c</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <description>To fix an anomaly with the Workflow Rule - Account check all Media Permissions
On create it runs through the Field Updates which in turn remove the check from the Image Opt In Permission All field</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Account check all Media Permissions</fullName>
        <actions>
            <name>UPD_ACC_Image_Opt_In_Participant_Sharing</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>UPD_ACC_Image_Opt_In_Permission_Corporat</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>UPD_ACC_Image_Opt_In_Permission_Public</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Account.Media_Permission_All_2019__c</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <description>When Media_Permission_All_2019__c (Image Opt In Permission All) is checked then check all the relevant media permission check boxes</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Account uncheck Image Opt In Participant Sharing</fullName>
        <actions>
            <name>UPD_ACC_Image_Opt_In_Permission_All</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Account.media_opt_in_share_participants__c</field>
            <operation>equals</operation>
            <value>False</value>
        </criteriaItems>
        <description>When media_opt_in_share_participants__c (Image Opt In Participant Sharing) is unchecked then uncheck Media_Permission_All_2019__c (Image Opt In Permission All)</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Account uncheck Image Opt In Permission Corporate</fullName>
        <actions>
            <name>UPD_ACC_Image_Opt_In_Permission_All</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Account.Media_permission_corporate_2019__c</field>
            <operation>equals</operation>
            <value>False</value>
        </criteriaItems>
        <description>When media_permission_corporate_2019__c (Image Opt In Permission Corporate) is unchecked then uncheck Media_Permission_All_2019__c (Image Opt In Permission All)</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Account uncheck Image Opt In Permission Public</fullName>
        <actions>
            <name>UPD_ACC_Image_Opt_In_Permission_All</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Account.Media_permission_Public_2019__c</field>
            <operation>equals</operation>
            <value>False</value>
        </criteriaItems>
        <description>When media_permission_Public_2019__c (Image Opt In Permission Public) is unchecked then uncheck Media_Permission_All_2019__c (Image Opt In Permission All)</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Account%2ECancer_Journey%2EBereaved</fullName>
        <actions>
            <name>Account_Cancer_Journey_Bereaved</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Account.RecordTypeId</field>
            <operation>equals</operation>
            <value>Family</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Cancer_Journey__c</field>
            <operation>equals</operation>
            <value>Bereaved</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Bereaved__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <description>Updates dates of status change</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Account%2ECancer_Journey%2EDeceased</fullName>
        <actions>
            <name>Account_Cancer_Journey_Deceased</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Account.RecordTypeId</field>
            <operation>equals</operation>
            <value>Family</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Cancer_Journey__c</field>
            <operation>equals</operation>
            <value>Deceased</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Deceased__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <description>Updates dates of status change</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Account%2ECancer_Journey%2EOff_Treatment</fullName>
        <actions>
            <name>Account_Cancer_Journey_Off_Treatment</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Account.RecordTypeId</field>
            <operation>equals</operation>
            <value>Family</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Cancer_Journey__c</field>
            <operation>equals</operation>
            <value>Off Treatment</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Off_Treatment__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <description>Updates dates of status change</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Account%2ECancer_Journey%2EOn_Treatment</fullName>
        <actions>
            <name>Account_Cancer_Journey_On_Treatment</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Account.RecordTypeId</field>
            <operation>equals</operation>
            <value>Family</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Cancer_Journey__c</field>
            <operation>equals</operation>
            <value>On Treatment</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.On_Treatment__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <description>Updates dates of status change</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Account%2ECancer_Journey%2EPalliative</fullName>
        <actions>
            <name>Account_Cancer_Journey_Palliative</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Account.RecordTypeId</field>
            <operation>equals</operation>
            <value>Family</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Cancer_Journey__c</field>
            <operation>equals</operation>
            <value>Palliative</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Pallative__c</field>
            <operation>equals</operation>
        </criteriaItems>
        <description>Updates dates of status change</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Account%2ECancer_Journey%2ERelapsed</fullName>
        <actions>
            <name>Account_Cancer_Journey_On_Treatment</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Account_Cancer_Journey_Relapsed</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Account.RecordTypeId</field>
            <operation>equals</operation>
            <value>Family</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Cancer_Journey__c</field>
            <operation>equals</operation>
            <value>Relapsed</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Copy Account Email To Primary Contact</fullName>
        <active>false</active>
        <formula>AND(RecordType.Name = &apos;Family&apos;  ,Email__c &lt;&gt;  npe01__One2OneContact__r.Email )</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Deceased Family Types</fullName>
        <actions>
            <name>Account_Cancer_Journey_Bereaved</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Set_Journey_Bereaved</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <booleanFilter>(1 OR 2) AND 3</booleanFilter>
        <criteriaItems>
            <field>Account.Family_Type__c</field>
            <operation>equals</operation>
            <value>Bereaved Family</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Family_Type__c</field>
            <operation>equals</operation>
            <value>Offspring Bereaved Family</value>
        </criteriaItems>
        <criteriaItems>
            <field>Account.Cancer_Journey__c</field>
            <operation>notEqual</operation>
            <value>Deceased</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
</Workflow>
